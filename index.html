<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MovitechES</title>
<meta name="description" content="MovitechES ‚Äî Tienda online de m√≥viles y accesorios. Env√≠o gratis a Espa√±a. Precios en ‚Ç¨." />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{
--bg:#ffffff;
--page-bg:#f6f7f9;
--text:#111;
--muted:#666;
--accent:#e60000; /* rojo comprar */
--black:#000000; /* negro carrito */
--card-border:#e9e9e9;
--max-width:1200px;
font-family:'Poppins',sans-serif;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--page-bg);color:var(--text);-webkit-font-smoothing:antialiased}
a{color:inherit;text-decoration:none}

/* Header */
header{position:sticky;top:0;background:#fff;z-index:1200;border-bottom:1px solid #f2f2f2}
.header-inner{max-width:var(--max-width);margin:0 auto;display:flex;align-items:center;gap:16px;padding:12px}
.logo img{width:150px;height:auto;object-fit:contain}
.search{flex:1}
.search input{width:100%;padding:10px 12px;border-radius:8px;border:1px solid #eee}
.header-actions{display:flex;gap:12px;align-items:center}

/* Categories nav */
.cat-nav{max-width:var(--max-width);margin:10px auto;padding:0 16px;display:flex;gap:12px;overflow:auto}
.cat-nav button{background:transparent;border:none;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600;color:var(--muted)}
.cat-nav button.active{background:#fff;color:var(--accent);border:1px solid #fdecea;box-shadow:0 6px 18px rgba(0,0,0,0.03)}

/* Layout */
.main{max-width:var(--max-width);margin:18px auto;padding:0 16px 80px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:18px}

/* Card */
.card{background:#fff;border:1px solid var(--card-border);border-radius:12px;overflow:hidden;display:flex;flex-direction:column;transition:transform .18s ease,box-shadow .18s ease}
.card:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(0,0,0,0.06)}
.thumb-wrap{padding:12px;background:#fbfcfd;display:flex;align-items:center;justify-content:center}
.thumb{width:100%;height:220px;object-fit:contain;border-radius:8px;background:#fff;cursor:pointer}
.meta{padding:12px;display:flex;flex-direction:column;gap:8px;flex:1}
.title{font-weight:700;font-size:1rem;color:var(--text)}
.brand{color:var(--muted);font-size:13px}
.price{font-weight:800;color:var(--accent);font-size:1.05rem}
.actions{display:flex;gap:8px;margin-top:auto;align-items:center}
.btn{padding:10px 12px;border-radius:8px;border:none;cursor:pointer;font-weight:700}
.btn-buy{background:var(--accent);color:#fff}
.btn-cart{background:var(--black);color:#fff}

/* thumbs row */
.thumbs-row{display:flex;gap:8px;padding:10px 12px;border-top:1px solid #f5f5f5;justify-content:center}
.thumbs-row img{width:56px;height:40px;object-fit:cover;border-radius:6px;cursor:pointer;border:2px solid transparent;opacity:.95}
.thumbs-row img.active{border-color:var(--accent);opacity:1}

/* Cart drawer */
.cart-drawer{position:fixed;right:18px;top:80px;width:360px;max-width:94vw;height:calc(100vh - 120px);background:#fff;border-radius:12px;box-shadow:0 30px 80px rgba(10,20,40,.16);padding:12px;transform:translateX(120%);transition:transform .28s ease;z-index:4000;display:flex;flex-direction:column}
.cart-drawer.open{transform:translateX(0)}
.cart-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:8px;border-bottom:1px solid #f1f4f8}
.cart-items{overflow:auto;padding:8px 0;flex:1}
.cart-item{display:flex;gap:10px;align-items:center;padding:8px 0;border-bottom:1px solid #f5f7fa}
.cart-item img{width:68px;height:54px;object-fit:cover;border-radius:6px}
.cart-footer{padding-top:10px;border-top:1px solid #f1f4f8}
.qty{display:flex;gap:8px;align-items:center}
.small-muted{font-size:13px;color:var(--muted)}

/* Modal (centered) */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);z-index:5000;padding:18px}
.modal.show{display:flex}
.modal-card{width:760px;max-width:96%;background:#fff;border-radius:12px;padding:18px;border:1px solid #ececec;box-shadow:0 18px 40px rgba(0,0,0,0.08);transform:translateY(18px);opacity:0;transition:all .28s ease}
.modal.show .modal-card{transform:translateY(0);opacity:1}
.modal-title{font-weight:700;margin-bottom:8px;color:var(--text)}
.close-x{background:transparent;border:none;font-size:18px;cursor:pointer;color:var(--muted)}

/* Form styles */
.row{display:flex;gap:10px;margin-bottom:10px}
.col{flex:1}
label{display:block;font-size:13px;color:#333;margin-bottom:6px}
input, select, textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;background:#fff;color:#111;font-size:14px}
.small{font-size:13px;color:var(--muted)}
.iban-box{font-family:monospace;background:#fafafa;border:1px dashed #e6e6e6;padding:12px;border-radius:6px;margin-top:10px;display:inline-block}
.copy-btn{margin-top:12px;padding:8px 12px;border-radius:8px;border:1px solid #ddd;background:#f7f7f7;cursor:pointer}

/* Footer */
footer{text-align:center;color:var(--muted);padding:28px 8px;margin-top:18px}

/* Responsive */
@media (max-width:900px){
.thumb{height:160px}
.modal-card{padding:14px}
.row{flex-direction:column}
.cart-drawer{right:8px;top:70px}
}
</style>
</head>
<body>

<header>
<div class="header-inner">
<div class="logo" aria-hidden="false">
<img src="logo-movitech-es.png" alt="MovitechES logo" id="siteLogo" onerror="this.style.display='none'; this.parentNode.textContent='MovitechES'">
</div>
<div class="search">
<input id="searchInput" placeholder="Buscar m√≥viles, marcas o modelos (ej. iPhone, Samsung)" />
</div>
<div class="header-actions">
<div style="font-weight:700;color:var(--muted)">Precios en ‚Ç¨ ‚Ä¢ Env√≠o gratis</div>
<button id="openCartBtn" title="Carrito" style="background:transparent;border:1px solid #f0f0f0;padding:8px 10px;border-radius:8px;cursor:pointer"> üõí <span id="cartCount">0</span> </button>
</div>
</div>
<nav class="cat-nav" aria-label="Categor√≠as">
<button data-cat="all" class="active">Todos</button>
<button data-cat="m√≥viles">M√≥viles</button>
<button data-cat="cargadores">Cargadores</button>
<button data-cat="smartwatchs">Smartwatchs</button>
<button data-cat="auriculares">Auriculares</button>
</nav>
<div style="max-width:var(--max-width);margin:0 auto;padding:0 16px 8px;display:flex;gap:12px;align-items:center">
<label>Ordenar por precio:</label>
<select id="sortPrice">
<option value="none">--</option>
<option value="asc">Menor a mayor</option>
<option value="desc">Mayor a menor</option>
</select>
</div>
</header>

<main class="main">
<section id="catalog" class="grid" aria-live="polite"></section>
</main>

<footer>¬© <span id="yearFooter"></span> MovitechES ‚Äî Todos los derechos reservados.</footer>

<!-- Gallery modal -->
<div id="galleryModal" class="modal" aria-hidden="true">
<div class="modal-card" role="dialog" aria-modal="true">
<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
<strong id="galleryTitle" class="modal-title">Galer√≠a</strong>
<button class="close-x" id="closeGallery">‚úï</button>
</div>
<img id="galleryImage" src="" alt="Imagen del producto" style="width:100%;height:auto;max-height:70vh;object-fit:contain;border-radius:8px;display:block;margin:0 auto" />
<div class="thumbs-row" id="galleryThumbs"></div>
</div>
</div>

<!-- Buy modal -->
<div id="buyModal" class="modal" aria-hidden="true">
<div class="modal-card" role="dialog" aria-modal="true">
<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
<strong id="buyTitle" class="modal-title">Finalizar compra</strong>
<button class="close-x" id="closeBuy">‚úï</button>
</div>
<form id="buyForm" enctype="multipart/form-data">
<div style="display:flex;gap:12px;flex-wrap:wrap">
<div style="flex:1;min-width:240px">
<div style="margin-bottom:8px" class="small">Producto</div>
<div id="buyProductName" style="font-weight:700;margin-bottom:12px"></div>
<div style="margin-bottom:8px" class="small">Precio</div>
<div id="buyProductPrice" style="font-weight:800;color:var(--accent);margin-bottom:12px"></div>
<div style="margin-bottom:8px" class="small">M√©todo de pago</div>
<div class="iban-box">Titular: <strong>Bridge Building</strong><br>IBAN: <strong>IE06 MODR 9903 5507 0916 80</strong></div>
<div style="margin-top:12px" class="small">Adjunt√° comprobante (imagen o PDF)</div>
<input type="file" id="receiptFile" name="receipt" accept="image/*,.pdf" required style="margin-top:8px">
</div>
<div style="flex:1;min-width:240px">
<label for="bName">Nombre completo</label>
<input id="bName" name="name" required placeholder="Ej. Juan P√©rez">
<label for="bEmail" style="margin-top:8px">Email</label>
<input id="bEmail" name="email" type="email" required placeholder="ejemplo@gmail.com">
<label for="bPhone" style="margin-top:8px">Tel√©fono</label>
<input id="bPhone" name="phone" required placeholder="+34 6...">
<label for="bProvince" style="margin-top:8px">Provincia</label>
<input id="bProvince" name="province" required placeholder="Madrid">
<label for="bCity" style="margin-top:8px">Ciudad</label>
<input id="bCity" name="city" required placeholder="Madrid">
<label for="bPostal" style="margin-top:8px">C√≥digo postal</label>
<input id="bPostal" name="postal" required placeholder="28001">
<input type="hidden" id="bCountry" name="country" value="Espa√±a">
<input type="hidden" id="bTimestamp" name="timestamp" value="">
<input type="hidden" id="bProductId" name="productId" value="">
</div>
</div>
<div style="margin-top:14px;display:flex;gap:10px;justify-content:flex-end">
<button type="button" class="btn" id="cancelBuy" style="background:#f5f5f5;border:1px solid #eee;padding:10px 12px;border-radius:8px">Cancelar</button>
<button type="submit" id="submitBuy" class="btn btn-buy">Enviar pedido y comprobante</button>
</div>
</form>
</div>
</div>

<!-- Cart drawer -->
<aside id="cartDrawer" class="cart-drawer" aria-hidden="true">
<div class="cart-header">
<div style="font-weight:800">Tu carrito</div>
<button class="close-x" id="closeCartDrawer">‚úï</button>
</div>
<div class="cart-items" id="cartItems">
<div class="small-muted">Tu carrito est√° vac√≠o</div>
</div>
<div class="cart-footer">
<div style="display:flex;justify-content:space-between;align-items:center;margin-top:10px">
<div class="small-muted">Subtotal</div>
<div style="font-weight:800" id="cartSubtotal">0 ‚Ç¨</div>
</div>
<div style="margin-top:12px;display:flex;gap:10px">
<button id="checkoutBtn" class="btn btn-buy" style="flex:1">Finalizar compra</button>
<button id="clearCartBtn" class="btn" style="flex:1;border:1px solid #ddd;background:#fafafa">Vaciar carrito</button>
</div>
</div>
</aside>

<script>
// A√±o footer
document.getElementById('yearFooter').textContent = new Date().getFullYear();

// Productos iniciales
const products = [
{id:1,name:"iPhone 14 Pro Max 256GB",category:"m√≥viles",brand:"Apple",price:1250,img:["https://i.imgur.com/iphone14pro.jpg"]},
{id:2,name:"Samsung Galaxy S23 Ultra",category:"m√≥viles",brand:"Samsung",price:1190,img:["https://i.imgur.com/galaxys23.jpg"]},
{id:3,name:"Cargador r√°pido USB-C 65W",category:"cargadores",brand:"Generic",price:25,img:["https://i.imgur.com/cargador1.jpg"]},
{id:4,name:"Cargador inal√°mbrico Qi 15W",category:"cargadores",brand:"Generic",price:30,img:["https://i.imgur.com/cargador2.jpg"]},
{id:5,name:"Smartwatch Series 9",category:"smartwatchs",brand:"Apple",price:0,img:[""]},
{id:6,name:"Auriculares Bluetooth 5.0",category:"auriculares",brand:"Generic",price:0,img:[""]},
// Agregar m√°s productos como antes...
];

// Variables
let filteredCategory = 'all';
let sortOption = 'none';
let cart = [];

// Funciones
function renderCatalog() {
  const catalog = document.getElementById('catalog');
  catalog.innerHTML = '';
  
  // Filtrar
  let displayed = products.filter(p => filteredCategory==='all' || p.category===filteredCategory);

  // Ordenar
  if(sortOption==='asc') displayed.sort((a,b)=>a.price-b.price);
  if(sortOption==='desc') displayed.sort((a,b)=>b.price-a.price);

  // Comprobar categor√≠as vac√≠as
  if((filteredCategory==='smartwatchs' || filteredCategory==='auriculares') && displayed.length===0){
    catalog.innerHTML = '<div style="grid-column:1/-1;text-align:center;padding:60px;font-size:1.2rem;font-weight:600;color:var(--muted)">Pr√≥ximamente en MovitechES</div>';
    return;
  }

  displayed.forEach(p=>{
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `
      <div class="thumb-wrap"><img src="${p.img[0]}" class="thumb" alt="${p.name}" /></div>
      <div class="meta">
        <div class="title">${p.name}</div>
        <div class="brand">${p.brand}</div>
        <div class="price">${p.price>0?p.price+' ‚Ç¨':'Pr√≥ximamente'}</div>
        <div class="actions">
          <button class="btn btn-buy" onclick="openBuy(${p.id})" ${p.price===0?'disabled':''}>Comprar</button>
          <button class="btn btn-cart" onclick="addCart(${p.id})" ${p.price===0?'disabled':''}>A√±adir al carrito</button>
        </div>
      </div>
    `;
    catalog.appendChild(card);
  });
}

// Eventos categor√≠as
document.querySelectorAll('.cat-nav button').forEach(btn=>{
  btn.addEventListener('click',()=> {
    document.querySelectorAll('.cat-nav button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    filteredCategory = btn.dataset.cat;
    renderCatalog();
  });
});

// Ordenar
document.getElementById('sortPrice').addEventListener('change',e=>{
  sortOption = e.target.value;
  renderCatalog();
});

// Carrito simple
function addCart(id){
  const p = products.find(x=>x.id===id);
  if(!p) return;
  cart.push(p);
  updateCart();
}

function updateCart(){
  const container = document.getElementById('cartItems');
  if(cart.length===0){container.innerHTML='<div class="small-muted">Tu carrito est√° vac√≠o</div>'}
  else{
    container.innerHTML='';
    let subtotal = 0;
    cart.forEach((c,i)=>{
      subtotal+=c.price;
      const div = document.createElement('div');
      div.className='cart-item';
      div.innerHTML=`<img src="${c.img[0]}" alt="${c.name}"><div><strong>${c.name}</strong><div>${c.price} ‚Ç¨</div></div>`;
      container.appendChild(div);
    });
    document.getElementById('cartSubtotal').textContent=subtotal+' ‚Ç¨';
    document.getElementById('cartCount').textContent=cart.length;
  }
}

// Carrito drawer
const cartDrawer = document.getElementById('cartDrawer');
document.getElementById('openCartBtn').addEventListener('click',()=>cartDrawer.classList.add('open'));
document.getElementById('closeCartDrawer').addEventListener('click',()=>cartDrawer.classList.remove('open'));
document.getElementById('clearCartBtn').addEventListener('click',()=>{cart=[];updateCart()});
document.getElementById('checkoutBtn').addEventListener('click',()=>{openBuy(cart[0]?.id||0)});

// Comprar modal
const buyModal = document.getElementById('buyModal');
function openBuy(id){
  const p = products.find(x=>x.id===id);
  if(!p) return;
  document.getElementById('buyProductName').textContent=p.name;
  document.getElementById('buyProductPrice').textContent=p.price>0?p.price+' ‚Ç¨':'Pr√≥ximamente';
  document.getElementById('bProductId').value=id;
  document.getElementById('bTimestamp').value=new Date().toISOString();
  buyModal.classList.add('show');
}
document.getElementById('closeBuy').addEventListener('click',()=>buyModal.classList.remove('show'));
document.getElementById('cancelBuy').addEventListener('click',()=>buyModal.classList.remove('show'));

// Inicial
renderCatalog();
</script>
</body>
</html>
